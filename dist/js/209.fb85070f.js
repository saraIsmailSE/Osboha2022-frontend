"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[209],{22658:function(t,a,e){var r=e(24150);class n{async createGroup(t){try{const a=await r.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async getAll(){try{const t=await r.hi.get("/group");return await t.data}catch(t){return t}}async getById(t){try{const a=await r.hi.get(`group/show/${t}`);return a.data.data}catch(a){return a}}async getBooks(t){try{const a=await r.hi.get(`group/books/${t}`);return a.data.data}catch(a){return a}}async getAllGroupExceptions(t){try{const a=await r.hi.get(`group/group-exceptions/${t}`);return a.data.data}catch(a){return a}}async exceptionsFilter(t,a){try{const e=await r.hi.get(`group/exceptions-filter/${t}/${a}`);return e.data.data}catch(e){return e}}async BasicMarksView(t){try{const a=await r.hi.get(`group/basic-mark-view/${t}`);return a.data.data}catch(a){return a}}async AllAchievements(t,a){try{const e=await r.hi.get(`group/all-achievements/${t}/${a}`);return e.data.data}catch(e){return e}}async AchievementAsPages(t,a){try{const e=await r.hi.get(`group/achievement-as-pages/${t}/${a}`);return e.data.data}catch(e){return e}}async searchForAmbassadorAchievement(t,a,e){try{const n=await r.hi.get(`group/search-for-ambassador-achievement/${t}/${a}/${e}`);return n.data.data}catch(n){return n}}async searchForAmbassador(t,a){try{const e=await r.hi.get(`group/search-for-ambassador/${t}/${a}`);return e.data.data}catch(e){return e}}async createLeaderRequest(t){try{const a=await r.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async lastLeaderRequest(t){try{const a=await r.hi.get(`group/last-leader-request/${t}`);return a.data.data}catch(a){return a}}async deleteById(t){try{return await r.hi["delete"](`/group/delete/${t}`)}catch(a){return a}}async update(t){}async getGroupByType(t){try{const a=await r.hi.post("/group/GroupByType",{type_id:t});return a.data}catch(a){return a}}async userGroups(){try{const t=await r.hi.get("/group/user-groups");return t.data.data}catch(t){return t}}async statistics(t){try{const a=await r.hi.get(`group/statistics/${t}`);return a.data.data}catch(a){return a}}async thesesAndScreensByWeek(t,a){try{const e=await r.hi.get(`group/theses-and-screens-by-week/${t}/${a}`);return e.data.data}catch(e){return e}}async monthAchievement(t,a){try{const e=await r.hi.get(`group/month-achievement/${t}/${a}`);return e.data.data}catch(e){return e}}}a["Z"]=new n},70209:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var r=e(66252),n=e(3577);const s={class:"row"},c={key:0,class:"col-sm-12"},o={class:"card-title"},u={class:"table-responsive"},i={id:"datatable",class:"table table-striped table-bordered"},d=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"اسم المجموعة"),(0,r._)("th",null,"نوع المجموعة"),(0,r._)("th",null,"عدد الاعضاء")])],-1),l=["onClick"];function h(t,a,e,h,p,g){const y=(0,r.up)("router-link"),w=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",s,[p.groups&&p.groups.length>0?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(w,null,{headerTitle:(0,r.w5)((()=>[(0,r._)("h4",o,"قائمة المجموعات - "+(0,n.zw)(p.groups.length),1)])),body:(0,r.w5)((()=>[(0,r.Wm)(y,{class:"btn btn-primary float-end",to:{name:"group.addGroup"}},{default:(0,r.w5)((()=>[(0,r.Uk)(" اضافة مجموعة ")])),_:1},8,["to"]),(0,r._)("div",u,[(0,r._)("table",i,[d,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.groups,((t,a)=>((0,r.wg)(),(0,r.iD)("tr",{key:a},[(0,r._)("td",null,[(0,r.Wm)(y,{class:"text-center",to:{name:"group.group-detail",params:{group_id:t.id}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(t.name),1)])),_:2},1032,["to"])]),(0,r._)("td",null,(0,n.zw)(p.group_type[t.type.type]),1),(0,r._)("td",null,(0,n.zw)(t.users_count),1),(0,r._)("td",null,[(0,r._)("span",{onClick:a=>g.deleteGroup(t.id),class:"btn btn-danger text-white material-symbols-outlined ms-1 me-1"}," delete ",8,l)])])))),128))])])])])),_:1})])):(0,r.kq)("",!0)])])}var p=e(22658),g=e(8209),y={name:"Groups List",async created(){const t=await p.Z.getAll();this.groups=t.data},data(){return{groups:[],group_type:{followup:"فريق متابعة",supervising:"فريق رقابة",advising:"فريق توجيه",consultation:"فريق الاستشارة",Administration:"الإدارة العليا"}}},methods:{async deleteGroup(t){try{const a=await p.Z.deleteById(t),e=await p.Z.getAll();this.groups=e.data,g.Z.toggleToast("تم الحذف","success"),console.log(a)}catch(a){g.Z.toggleToast("حصل خطأ - لم يتم الحذف!","danger"),console.log(a)}}}},w=e(83744);const m=(0,w.Z)(y,[["render",h]]);var b=m}}]);
//# sourceMappingURL=209.fb85070f.js.map