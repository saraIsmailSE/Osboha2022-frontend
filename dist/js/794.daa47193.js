"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[794],{22658:function(t,a,e){var r=e(66252),s=e(24150),n=e(79940);class o{async createGroup(t){try{const a=await s.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){(0,r.S3)(a)}}async getAll(){try{const t=await s.hi.get("/group");return await t.data}catch(t){return t}}async getById(t){try{const a=await s.hi.get(`group/show/${t}`);return a.data.data}catch(a){return a}}async getBooks(t){try{const a=await s.hi.get(`group/books/${t}`);return a.data.data}catch(a){(0,r.S3)(a)}}async getAllGroupExceptions(t){try{const a=await s.hi.get(`group/group-exceptions/${t}`);return a.data.data}catch(a){return a}}async exceptionsFilter(t,a){try{const e=await s.hi.get(`group/exceptions-filter/${t}/${a}`);return e.data.data}catch(e){return e}}async BasicMarksView(t){try{const a=await s.hi.get(`group/basic-mark-view/${t}`);return a.data.data}catch(a){return a}}async AllAchievements(t,a){try{const e=await s.hi.get(`group/all-achievements/${t}/${a}`);return e.data.data}catch(e){return e}}async AchievementAsPages(t,a){try{const e=await s.hi.get(`group/achievement-as-pages/${t}/${a}`);return e.data.data}catch(e){return e}}async searchForAmbassadorAchievement(t,a,e){try{const r=await s.hi.get(`group/search-for-ambassador-achievement/${t}/${a}/${e}`);return r.data.data}catch(r){return r}}async searchForAmbassador(t,a){try{const e=await s.hi.get(`group/search-for-ambassador/${t}/${a}`);return e.data.data}catch(e){return e}}async createLeaderRequest(t){try{const a=await s.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async lastLeaderRequest(t){try{const a=await s.hi.get(`group/last-leader-request/${t}`);return a.data.data}catch(a){return a}}async deleteById(t){try{return await s.hi["delete"](`/group/delete/${t}`)}catch(a){return a}}async update(t){}async getGroupByType(t){try{const a=await s.hi.post("/group/GroupByType",{type_id:t});return a.data}catch(a){return a}}async userGroups(){try{const t=await s.hi.get("/group/user-groups");return t.data.data}catch(t){return t}}async statistics(t){try{const a=await s.hi.get(`group/statistics/${t}`);return a.data.data}catch(a){(0,n.F)(a,"statistics")}}async thesesAndScreensByWeek(t,a){try{const e=await s.hi.get(`group/theses-and-screens-by-week/${t}/${a}`);return e.data.data}catch(e){(0,r.S3)(e)}}async monthAchievement(t,a){try{const e=await s.hi.get(`group/month-achievement/${t}/${a}`);return e.data.data}catch(e){(0,r.S3)(e)}}}a["Z"]=new o},79940:function(t,a,e){e.d(a,{F:function(){return s}});var r=e(1120);function s(t,a=""){throw console.log(`[ERROR] ${a} =>`,t.response.data),404===t.response.data.statusCode?r.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),t}},90794:function(t,a,e){e.r(a),e.d(a,{default:function(){return $}});var r=e(66252),s=e(3577);const n={class:"row"},o={key:0,class:"col-sm-12"},c={class:"card-title"},u={class:"table-responsive"},i={id:"datatable",class:"table table-striped table-bordered"},d=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"اسم المجموعة"),(0,r._)("th",null,"نوع المجموعة"),(0,r._)("th",null,"عدد الاعضاء")])],-1),l=(0,r._)("td",null,null,-1);function h(t,a,e,h,p,g){const y=(0,r.up)("router-link"),w=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",n,[p.groups&&p.groups.length>0?((0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(w,null,{headerTitle:(0,r.w5)((()=>[(0,r._)("h4",c,"قائمة المجموعات - "+(0,s.zw)(p.groups.length),1)])),body:(0,r.w5)((()=>[(0,r.Wm)(y,{class:"btn btn-primary float-end",to:{name:"group.addGroup"}},{default:(0,r.w5)((()=>[(0,r.Uk)(" اضافة مجموعة ")])),_:1},8,["to"]),(0,r._)("div",u,[(0,r._)("table",i,[d,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.groups,((t,a)=>((0,r.wg)(),(0,r.iD)("tr",{key:a},[(0,r._)("td",null,[(0,r.Wm)(y,{class:"text-center",to:{name:"group.group-detail",params:{group_id:t.id}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(t.name),1)])),_:2},1032,["to"])]),(0,r._)("td",null,(0,s.zw)(p.group_type[t.type.type]),1),(0,r._)("td",null,(0,s.zw)(t.users_count),1),l])))),128))])])])])),_:1})])):(0,r.kq)("",!0)])])}var p=e(22658),g=e(8209),y={name:"Groups List",async created(){const t=await p.Z.getAll();this.groups=t.data},data(){return{groups:[],group_type:{followup:"فريق متابعة",supervising:"فريق رقابة",advising:"فريق توجيه",consultation:"فريق الاستشارة",Administration:"الإدارة العليا"}}},methods:{async deleteGroup(t){try{const a=await p.Z.deleteById(t),e=await p.Z.getAll();this.groups=e.data,g.Z.toggleToast("تم الحذف","success"),console.log(a)}catch(a){g.Z.toggleToast("حصل خطأ - لم يتم الحذف!","danger"),console.log(a)}}}},w=e(83744);const m=(0,w.Z)(y,[["render",h]]);var $=m}}]);
//# sourceMappingURL=794.daa47193.js.map